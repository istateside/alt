!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Alt=e():t.Alt=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(14)},function(t,e,n){function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function i(t){if(t&&t.__esModule)return t;if(null===t||"object"!==o(t)&&"function"!=typeof t)return{default:t};var e=r();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var a=i?Object.getOwnPropertyDescriptor(t,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=t[s]}return n.default=t,e&&e.set(t,n),n}var o=n(12).default;t.exports=i,t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){"use strict";function n(t){var e=t.constructor;return!!t&&"[object Object]"===Object.prototype.toString.call(t)&&o(e)&&!Object.isFrozen(t)&&(e instanceof e||"AltStore"===t.type)}function r(t,e){e.forEach(function(e){Object.keys(Object(e)).forEach(function(n){t(n,e[n])})})}function i(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return r(function(e,n){return t[e]=n},n),t}Object.defineProperty(e,"__esModule",{value:!0}),e.isMutableObject=n,e.eachObject=r,e.assign=i,e.isFunction=void 0;var o=function(t){return"function"==typeof t};e.isFunction=o},function(t,e){function n(t){return t&&t.__esModule?t:{default:t}}t.exports=n,t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach(function(e){(0,v.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function o(t,e){var n=e?m:b,r=e?t.prototype:t;return Object.getOwnPropertyNames(r).reduce(function(t,e){return n.indexOf(e)!==-1?t:(t[e]=r[e],t)},{})}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t===Function.prototype?e:s(Object.getPrototypeOf(t),g.assign(o(t,!0),e))}function a(t){"undefined"!=typeof console&&console.warn(new ReferenceError(t))}function c(t,e){for(var n=0,r=e;Object.hasOwnProperty.call(t,r);)r=e+String(++n);return r}function u(t){return t.replace(/[a-z]([A-Z])/g,function(t){return"".concat(t[0],"_").concat(t[1].toLowerCase())}).toUpperCase()}function f(t){if(void 0===t)return null;for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.length?[t].concat(n):t}function l(t,e,n,r){return{type:e,payload:n,meta:i({dispatchId:t},r),id:t,action:e,data:n,details:r}}function p(t,e,n,r){var i=e.dispatch(n);if(void 0===i)return null;var o=e.id,s=o,a=o,c={id:o,namespace:s,name:a},u=function(t){return r.dispatch(o,t,c)};return g.isFunction(i)?i(u,r):r.dispatcher.dispatch(l(t,o,i,c))}function h(){}var d=n(1),y=n(3);Object.defineProperty(e,"__esModule",{value:!0}),e.getInternalMethods=o,e.getPrototypeChain=s,e.warn=a,e.uid=c,e.formatAsConstant=u,e.dispatchIdentity=f,e.fsa=l,e.dispatch=p;var v=y(n(10)),g=d(n(2)),b=Object.getOwnPropertyNames(h),m=Object.getOwnPropertyNames(h.prototype)},function(t,e,n){function r(e,n,s){return o()?(t.exports=r=Reflect.construct,t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=r=function(t,e,n){var r=[null];r.push.apply(r,e);var o=Function.bind.apply(t,r),s=new o;return n&&i(s,n.prototype),s},t.exports.default=t.exports,t.exports.__esModule=!0),r.apply(null,arguments)}var i=n(7),o=n(11);t.exports=r,t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,i(t,e)}var i=n(7);t.exports=r,t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},t.exports.default=t.exports,t.exports.__esModule=!0,n(e,r)}t.exports=n,t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(f===setTimeout)return setTimeout(t,0);if((f===n||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(e){try{return f.call(null,t,0)}catch(e){return f.call(this,t,0)}}}function o(t){if(l===clearTimeout)return clearTimeout(t);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}function s(){y&&h&&(y=!1,h.length?d=h.concat(d):v=-1,d.length&&a())}function a(){if(!y){var t=i(s);y=!0;for(var e=d.length;e;){for(h=d,d=[];++v<e;)h&&h[v].run();v=-1,e=d.length}h=null,y=!1,o(t)}}function c(t,e){this.fun=t,this.array=e}function u(){}var f,l,p=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:n}catch(t){f=n}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(t){l=r}}();var h,d=[],y=!1,v=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new c(t,e)),1!==d.length||y||i(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=u,p.addListener=u,p.once=u,p.off=u,p.removeListener=u,p.removeAllListeners=u,p.emit=u,p.prependListener=u,p.prependOnceListener=u,p.listeners=function(t){return[]},p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(t,e){"use strict";function n(){var t=[],e=!1,n={},r=function(r){var i=t.indexOf(r);if(!(i<0))return e?void(n[i]=r):void t.splice(i,1)},i=function(e){var n=(t.push(e),function(){return r(e)});return{dispose:n}},o=function(){for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];e=!0;try{t.forEach(function(t,e){return n[e]||t.apply(void 0,o)})}finally{e=!1,Object.keys(n).forEach(function(t){return r(n[t])}),n={}}};return{publish:o,subscribe:i,$subscriptions:t}}t.exports=n},function(t,e){function n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}t.exports=n,t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){function n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}t.exports=n,t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){function n(e){"@babel/helpers - typeof";return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(t.exports=n=function(t){return typeof t},t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.default=t.exports,t.exports.__esModule=!0),n(e)}t.exports=n,t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";function r(t,e,n,r,i){var o=a.uid(t._actionsRegistry,"".concat(e,".").concat(n));t._actionsRegistry[o]=1;var u={id:o,namespace:e,name:n},f=function(e){return t.dispatch(o,e,u)},l=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var u=r.apply(i,n),l=u;return void 0===u||(0,c.default)(u)||(s.isFunction(u)?l=u(f,t):f(u)),void 0===u&&a.warn("An action was called but nothing was dispatched"),l};l.defer=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return setTimeout(function(){return l.apply(null,e)})},l.id=o,l.data=u;var p=t.actions[e],h=a.uid(p,n);p[h]=l;var d=a.formatAsConstant(h);return p[d]=o,l}var i=n(3),o=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var s=o(n(2)),a=o(n(4)),c=i(n(22))},function(t,e,n){"use strict";var r=n(1),i=n(3);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(5)),s=i(n(6)),a=n(19),c=r(n(18)),u=r(n(2)),f=r(n(17)),l=r(n(4)),p=i(n(13)),h=function(){function t(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.config=t,this.serialize=t.serialize||JSON.stringify,this.deserialize=t.deserialize||JSON.parse,this.dispatcher=t.dispatcher||new a.Dispatcher,this.batchingFunction=t.batchingFunction||function(t){return t()},this.actions={global:{}},this.stores={},this.storeTransforms=t.storeTransforms||[],this.trapAsync=!1,this._actionsRegistry={},this._initSnapshot={},this._lastSnapshot={}}var e=t.prototype;return e.dispatch=function(t,e,n){var r=this;this.batchingFunction(function(){var i=Math.random().toString(18).substr(2,16);if(t.hasOwnProperty("type")&&t.hasOwnProperty("payload")){var o={id:t.type,namespace:t.type,name:t.type};return r.dispatcher.dispatch(l.fsa(i,t.type,t.payload,o))}return t.id&&t.dispatch?l.dispatch(i,t,e,r):r.dispatcher.dispatch(l.fsa(i,t,e,n))})},e.createUnsavedStore=function(t){var e=t.displayName||"";f.createStoreConfig(this.config,t);for(var n=f.transformStore(this.storeTransforms,t),r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return u.isFunction(n)?f.createStoreFromClass.apply(f,[this,n,e].concat(i)):f.createStoreFromObject(this,n,e)},e.createStore=function(t,e){var n=e||t.displayName||t.name||"";f.createStoreConfig(this.config,t);var r=f.transformStore(this.storeTransforms,t);!this.stores[n]&&n||(this.stores[n]?l.warn("A store named ".concat(n," already exists, double check your store ")+"names or pass in your own custom identifier for each store"):l.warn("Store name was not specified"),n=l.uid(this.stores,n));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];var a=u.isFunction(r)?f.createStoreFromClass.apply(f,[this,r,n].concat(o)):f.createStoreFromObject(this,r,n);return this.stores[n]=a,c.saveInitialSnapshot(this,n),a},e.generateActions=function(){for(var t={name:"global"},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.createActions(n.reduce(function(t,e){return t[e]=l.dispatchIdentity,t},t))},e.createAction=function(t,e,n){return(0,p.default)(this,"global",t,e,n)},e.createActions=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},i=l.uid(this._actionsRegistry,t.displayName||t.name||"Unknown");if(u.isFunction(t)){u.assign(r,l.getPrototypeChain(t));for(var a=function(t){function e(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.call.apply(t,[this].concat(n))||this}(0,s.default)(e,t);var n=e.prototype;return n.generateActions=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach(function(t){r[t]=l.dispatchIdentity})},e}(t),c=arguments.length,f=new Array(c>2?c-2:0),h=2;h<c;h++)f[h-2]=arguments[h];u.assign(r,(0,o.default)(a,f))}else u.assign(r,t);return this.actions[i]=this.actions[i]||{},u.eachObject(function(t,r){if(!u.isFunction(r))return void(n[t]=r);n[t]=(0,p.default)(e,i,t,r,n);var o=l.formatAsConstant(t);n[o]=n[t].id},[r]),n},e.takeSnapshot=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=c.snapshot(this,e);return u.assign(this._lastSnapshot,r),this.serialize(r)},e.rollback=function(){c.setAppState(this,this.serialize(this._lastSnapshot),function(t){t.lifecycle("rollback"),t.emitChange()})},e.recycle=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.length?c.filterSnapshots(this,this._initSnapshot,e):this._initSnapshot;c.setAppState(this,this.serialize(r),function(t){t.lifecycle("init"),t.emitChange()})},e.flush=function(){var t=this.serialize(c.snapshot(this));return this.recycle(),t},e.bootstrap=function(t){c.setAppState(this,t,function(t,e){t.lifecycle("bootstrap",e),t.emitChange()})},e.prepare=function(t,e){var n={};if(!t.displayName)throw new ReferenceError("Store provided does not have a name");return n[t.displayName]=e,this.serialize(n)},e.addActions=function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];this.actions[t]=Array.isArray(e)?this.generateActions.apply(this,e):this.createActions.apply(this,[e].concat(r))},e.addStore=function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];this.createStore.apply(this,[e,t].concat(r))},e.getActions=function(t){return this.actions[t]},e.getStore=function(t){return this.stores[t]},t.debug=function(t,e,n){var r="alt.js.org",i=n;return i||"undefined"==typeof window||(i=window),"undefined"!=typeof i&&(i[r]=i[r]||[],i[r].push({name:t,alt:e})),e},t}(),d=h;e.default=d},function(t,e,n){"use strict";var r=n(3),i=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(2)),s=r(n(9)),a=function(){function t(t,e,n,r){var i=this,a=e.lifecycleEvents;this.transmitter=(0,s.default)(),this.lifecycle=function(t,e){a[t]&&a[t].publish(e)},this.state=n,this.alt=t,this.preventDefault=!1,this.displayName=e.displayName,this.boundListeners=e.boundListeners,this.StoreModel=r,this.reduce=e.reduce||function(t){return t},this.subscriptions=[];var c=e.output||function(t){return t};this.emitChange=function(){return i.transmitter.publish(c(i.state))};var u=function(t,n){try{return t()}catch(t){if(e.handlesOwnErrors)return i.lifecycle("error",{error:t,payload:n,state:i.state}),!1;throw t}};o.assign(this,e.publicMethods),this.dispatchToken=t.dispatcher.register(function(t){i.preventDefault=!1,i.lifecycle("beforeEach",{payload:t,state:i.state});var n=e.actionListeners[t.action];if(n||e.otherwise){var r;r=n?u(function(){return n.filter(Boolean).every(function(n){return n.call(e,t.data,t.action)!==!1})},t):u(function(){return e.otherwise(t.data,t.action)},t),r===!1||i.preventDefault||i.emitChange()}e.reduce&&(u(function(){var n=e.reduce(i.state,t);void 0!==n&&(i.state=n)},t),i.preventDefault||i.emitChange()),i.lifecycle("afterEach",{payload:t,state:i.state})}),this.lifecycle("init")}var e=t.prototype;return e.listen=function(t){var e=this;if(!o.isFunction(t))throw new TypeError("listen expects a function");var n=this.transmitter.subscribe(t),r=n.dispose;return this.subscriptions.push({cb:t,dispose:r}),function(){e.lifecycle("unlisten"),r()}},e.unlisten=function(t){this.lifecycle("unlisten"),this.subscriptions.filter(function(e){return e.cb===t}).forEach(function(t){return t.dispose()})},e.getState=function(){return this.StoreModel.config.getState.call(this,this.state)},t}(),c=a;e.default=c},function(t,e,n){"use strict";var r=n(1),i=n(3);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(9)),s=r(n(2)),a={waitFor:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!e.length)throw new ReferenceError("Dispatch tokens not provided");var r=e;1===e.length&&(r=Array.isArray(e[0])?e[0]:e);var i=r.map(function(t){return t.dispatchToken||t});this.dispatcher.waitFor(i)},exportAsync:function(t){this.registerAsync(t)},registerAsync:function(t){var e=this,n=0,r=s.isFunction(t)?t(this.alt):t,i=Object.keys(r).reduce(function(t,i){var o=r[i],a=s.isFunction(o)?o(e):o,c=["success","error","loading"];return c.forEach(function(t){if(a[t]&&!a[t].id)throw new Error("".concat(t," handler must be an action function"))}),t[i]=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var o=e.getInstance().getState(),s=a.local&&a.local.apply(a,[o].concat(r)),c=a.shouldFetch?a.shouldFetch.apply(a,[o].concat(r)):null==s,u=a.interceptResponse||function(t){return t},f=function(t,i){return function(o){var s=function(){if(n-=1,t(u(o,t,r)),i)throw o;return o};return e.alt.trapAsync?function(){return s()}:s()}};return c?(n+=1,a.loading&&a.loading(u(null,a.loading,r)),a.remote.apply(a,[o].concat(r)).then(f(a.success),f(a.error,1))):(e.emitChange(),s)},t},{});this.exportPublicMethods(i),this.exportPublicMethods({isLoading:function(){return n>0}})},exportPublicMethods:function(t){var e=this;s.eachObject(function(t,n){if(!s.isFunction(n))throw new TypeError("exportPublicMethods expects a function");e.publicMethods[t]=n},[t])},emitChange:function(){this.getInstance().emitChange()},on:function(t,e){"error"===t&&(this.handlesOwnErrors=!0);var n=this.lifecycleEvents[t]||(0,o.default)();return this.lifecycleEvents[t]=n,n.subscribe(e.bind(this))},bindAction:function(t,e){if(!t)throw new ReferenceError("Invalid action reference passed in");if(!s.isFunction(e))throw new TypeError("bindAction expects a function");var n=t.id?t.id:t;this.actionListeners[n]=this.actionListeners[n]||[],this.actionListeners[n].push(e.bind(this)),this.boundListeners.push(n)},bindActions:function(t){var e=this;s.eachObject(function(t,n){var r=/./,i=t.replace(r,function(t){return"on".concat(t[0].toUpperCase())});if(e[t]&&e[i])throw new ReferenceError("You have multiple action handlers bound to an action: "+"".concat(t," and ").concat(i));var o=e[t]||e[i];o&&e.bindAction(n,o)},[t])},bindListeners:function(t){var e=this;s.eachObject(function(t,n){var r=e[t];if(!r)throw new ReferenceError("".concat(t," defined but does not exist in ").concat(e.displayName));Array.isArray(n)?n.forEach(function(t){e.bindAction(t,r)}):e.bindAction(n,r)},[t])}},c=a;e.default=c},function(t,e,n){"use strict";function r(t,e,n){if(n){var r=e.StoreModel.config,i=d.isFunction(n)?n(e.state):n;e.state=r.setState.call(t,e.state,i),t.alt.dispatcher.isDispatching()||t.emitChange()}}function i(t,e,n,r){return d.assign(t,v.default,{displayName:n,alt:e,dispatcher:e.dispatcher,preventDefault:function(){this.getInstance().preventDefault=!0},boundListeners:[],lifecycleEvents:{},actionListeners:{},publicMethods:{},handlesOwnErrors:!1},r)}function o(t,e){e.config=d.assign({getState:function(t){return Array.isArray(t)?t.slice():d.isMutableObject(t)?d.assign({},t):t},setState:function(t,e){return d.isMutableObject(e)?d.assign(t,e):e}},t,e.config)}function s(t,e){return t.reduce(function(t,e){return e(t)},e)}function a(t,e,n){var o,s=i({},t,n,d.assign({getInstance:function(){return o},setState:function(t){r(this,o,t)}},e));return s.bindListeners&&v.default.bindListeners.call(s,s.bindListeners),s.observe&&v.default.bindListeners.call(s,s.observe(t)),s.lifecycle&&d.eachObject(function(t,e){v.default.on.call(s,t,e)},[s.lifecycle]),o=d.assign(new y.default(t,s,void 0!==s.state?s.state:{},e),s.publicMethods,{displayName:n,config:e.config})}function c(t,e,n){var o,s=e.config,a=function(t){function e(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.call.apply(t,[this].concat(n))||this}return(0,p.default)(e,t),e}(e);i(a.prototype,t,n,{type:"AltStore",getInstance:function(){return o},setState:function(t){r(this,o,t)}});for(var c=arguments.length,u=new Array(c>3?c-3:0),f=3;f<c;f++)u[f-3]=arguments[f];var v=(0,l.default)(a,u);return s.bindListeners&&v.bindListeners(s.bindListeners),s.datasource&&v.registerAsync(s.datasource),o=d.assign(new y.default(t,v,void 0!==v.state?v.state:v,e),h.getInternalMethods(e),s.publicMethods,{displayName:n})}var u=n(1),f=n(3);Object.defineProperty(e,"__esModule",{value:!0}),e.createStoreConfig=o,e.transformStore=s,e.createStoreFromObject=a,e.createStoreFromClass=c;var l=f(n(5)),p=f(n(6)),h=u(n(4)),d=u(n(2)),y=f(n(15)),v=f(n(16))},function(t,e,n){"use strict";function r(t,e,n){var r=t.deserialize(e);c.eachObject(function(e,i){var o=t.stores[e];if(o){var s=o.StoreModel.config,a=o.state;s.onDeserialize&&(r[e]=s.onDeserialize(i)||i),c.isMutableObject(a)?(c.eachObject(function(t){return delete a[t]},[a]),c.assign(a,r[e])):o.state=r[e],n(o,o.state)}},[r])}function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.length?e:Object.keys(t.stores);return n.reduce(function(e,n){var r=n.displayName||n,i=t.stores[r],o=i.StoreModel.config;i.lifecycle("snapshot");var s=o.onSerialize&&o.onSerialize(i.state);return e[r]=s?s:i.getState(),e},{})}function o(t,e){var n=t.deserialize(t.serialize(t.stores[e].state));t._initSnapshot[e]=n,t._lastSnapshot[e]=n}function s(t,e,n){return n.reduce(function(t,n){var r=n.displayName||n;if(!e[r])throw new ReferenceError("".concat(r," is not a valid store"));return t[r]=e[r],t},{})}var a=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.setAppState=r,e.snapshot=i,e.saveInitialSnapshot=o,e.filterSnapshots=s;var c=a(n(2))},function(t,e,n){t.exports.Dispatcher=n(20)},function(t,e,n){(function(r){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=n(21),s="ID_",a=function(){function t(){i(this,t),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}return t.prototype.register=function(t){var e=s+this._lastID++;return this._callbacks[e]=t,e},t.prototype.unregister=function(t){this._callbacks[t]?void 0:"production"!==r.env.NODE_ENV?o(!1,"Dispatcher.unregister(...): `%s` does not map to a registered callback.",t):o(!1),delete this._callbacks[t]},t.prototype.waitFor=function(t){this._isDispatching?void 0:"production"!==r.env.NODE_ENV?o(!1,"Dispatcher.waitFor(...): Must be invoked while dispatching."):o(!1);for(var e=0;e<t.length;e++){var n=t[e];this._isPending[n]?this._isHandled[n]?void 0:"production"!==r.env.NODE_ENV?o(!1,"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",n):o(!1):(this._callbacks[n]?void 0:"production"!==r.env.NODE_ENV?o(!1,"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",n):o(!1),this._invokeCallback(n))}},t.prototype.dispatch=function(t){this._isDispatching?"production"!==r.env.NODE_ENV?o(!1,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."):o(!1):void 0,this._startDispatching(t);try{for(var e in this._callbacks)this._isPending[e]||this._invokeCallback(e)}finally{this._stopDispatching()}},t.prototype.isDispatching=function(){return this._isDispatching},t.prototype._invokeCallback=function(t){this._isPending[t]=!0,this._callbacks[t](this._pendingPayload),this._isHandled[t]=!0},t.prototype._startDispatching=function(t){for(var e in this._callbacks)this._isPending[e]=!1,this._isHandled[e]=!1;this._pendingPayload=t,this._isDispatching=!0},t.prototype._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},t}();t.exports=a}).call(e,n(8))},function(t,e,n){(function(e){"use strict";var n=function(t,n,r,i,o,s,a,c){if("production"!==e.env.NODE_ENV&&void 0===n)throw new Error("invariant requires an error message argument");if(!t){var u;if(void 0===n)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[r,i,o,s,a,c],l=0;u=new Error("Invariant Violation: "+n.replace(/%s/g,function(){return f[l++]}))}throw u.framesToPop=1,u}};t.exports=n}).call(e,n(8))},function(t,e){function n(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof t.then}t.exports=n}])});